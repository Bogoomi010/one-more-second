{"ast":null,"code":"import{useEffect,useRef,useState}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";const CANVAS_WIDTH=480;const CANVAS_HEIGHT=640;const PLAYER_SPEED=4;const PLAYER_SIZE=20;const BULLET_RADIUS=4;const BULLET_SPEED=3;const INITIAL_SPAWN_INTERVAL=500;const INTERVAL_DECREASE=50;const MIN_SPAWN_INTERVAL=100;const DIFFICULTY_INTERVAL=3000;// 3초\n// 플레이어 시작 위치 상수 추가\nconst PLAYER_START_X=CANVAS_WIDTH/2-PLAYER_SIZE/2;const PLAYER_START_Y=CANVAS_HEIGHT/2-PLAYER_SIZE/2;export default function GameCanvas(_ref){let{lives,setLives,setSpawnIntervalStatus,setScore}=_ref;const canvasRef=useRef(null);const keysRef=useRef({ArrowLeft:false,ArrowRight:false,ArrowUp:false,ArrowDown:false});const playerRef=useRef({x:PLAYER_START_X,y:PLAYER_START_Y});const bulletsRef=useRef([]);const startTimeRef=useRef(Date.now());const gameOverRef=useRef(false);const animationRef=useRef(undefined);const spawnLoopRef=useRef(undefined);const difficultyLoopRef=useRef(undefined);const livesRef=useRef(lives);const isHitRef=useRef(false);const isTopSpawnRef=useRef(true);const[spawnInterval,setSpawnInterval]=useState(INITIAL_SPAWN_INTERVAL);function spawnSingleBullet(){// 화면 상단 또는 하단에서 랜덤한 X 좌표 선택\nconst margin=BULLET_RADIUS*2;const centerX=Math.random()*(CANVAS_WIDTH-margin*2)+margin;// 현재 스폰 위치에 따라 Y 좌표와 각도 계산\nconst centerY=isTopSpawnRef.current?BULLET_RADIUS*2:CANVAS_HEIGHT-BULLET_RADIUS*2;// 플레이어를 향해 발사되도록 각도 계산\nconst targetAngle=Math.atan2(playerRef.current.y+PLAYER_SIZE/2-centerY,playerRef.current.x+PLAYER_SIZE/2-centerX);const bullet={x:centerX,y:centerY,angle:targetAngle,speed:BULLET_SPEED};bulletsRef.current.push(bullet);// 다음 발사는 반대쪽에서 하도록 토글\nisTopSpawnRef.current=!isTopSpawnRef.current;}// lives 값이 변경될 때마다 ref 업데이트\nuseEffect(()=>{livesRef.current=lives;},[lives]);// spawnInterval이 변경될 때마다 상태 업데이트\nuseEffect(()=>{setSpawnIntervalStatus(spawnInterval);},[spawnInterval,setSpawnIntervalStatus]);// spawnInterval이 변경될 때마다 총알 생성 인터벌 재설정\nuseEffect(()=>{if(spawnLoopRef.current){clearInterval(spawnLoopRef.current);}spawnLoopRef.current=setInterval(()=>{if(!gameOverRef.current){spawnSingleBullet();}},spawnInterval);return()=>{if(spawnLoopRef.current){clearInterval(spawnLoopRef.current);}};},[spawnInterval]);useEffect(()=>{const canvas=canvasRef.current;const ctx=canvas===null||canvas===void 0?void 0:canvas.getContext(\"2d\");if(!canvas||!ctx)return;function resetGame(){gameOverRef.current=false;playerRef.current={x:PLAYER_START_X,y:PLAYER_START_Y};bulletsRef.current=[];startTimeRef.current=Date.now();isHitRef.current=false;isTopSpawnRef.current=true;setSpawnInterval(INITIAL_SPAWN_INTERVAL);setLives(3);// 기존 인터벌 제거\nif(difficultyLoopRef.current)clearInterval(difficultyLoopRef.current);// 난이도 증가 인터벌 설정\ndifficultyLoopRef.current=setInterval(()=>{if(!gameOverRef.current){setSpawnInterval(prev=>Math.max(MIN_SPAWN_INTERVAL,prev-INTERVAL_DECREASE));}},DIFFICULTY_INTERVAL);gameLoop();}function handleKeyDown(e){if([\"ArrowLeft\",\"ArrowRight\",\"ArrowUp\",\"ArrowDown\"].includes(e.key)){e.preventDefault();}keysRef.current[e.key]=true;if(gameOverRef.current&&(e.key===\"r\"||e.key===\"ㄱ\")){resetGame();}}function handleKeyUp(e){keysRef.current[e.key]=false;}window.addEventListener(\"keydown\",handleKeyDown);window.addEventListener(\"keyup\",handleKeyUp);function checkCollision(px,py,bx,by,br){const dx=px+PLAYER_SIZE/2-bx;const dy=py+PLAYER_SIZE/2-by;const distance=Math.sqrt(dx*dx+dy*dy);return distance<br+PLAYER_SIZE/2;}function handleCollision(){isHitRef.current=true;setTimeout(()=>{isHitRef.current=false;},150);if(livesRef.current>1){setLives(livesRef.current-1);}else{gameOverRef.current=true;setLives(0);cancelAnimationFrame(animationRef.current);clearInterval(spawnLoopRef.current);clearInterval(difficultyLoopRef.current);}}function update(){if(gameOverRef.current)return;const keys=keysRef.current;if(keys.ArrowLeft)playerRef.current.x-=PLAYER_SPEED;if(keys.ArrowRight)playerRef.current.x+=PLAYER_SPEED;if(keys.ArrowUp)playerRef.current.y-=PLAYER_SPEED;if(keys.ArrowDown)playerRef.current.y+=PLAYER_SPEED;playerRef.current.x=Math.max(0,Math.min(CANVAS_WIDTH-PLAYER_SIZE,playerRef.current.x));playerRef.current.y=Math.max(0,Math.min(CANVAS_HEIGHT-PLAYER_SIZE,playerRef.current.y));bulletsRef.current.forEach(b=>{b.x+=Math.cos(b.angle)*b.speed;b.y+=Math.sin(b.angle)*b.speed;});for(const b of bulletsRef.current){if(checkCollision(playerRef.current.x,playerRef.current.y,b.x,b.y,BULLET_RADIUS)){bulletsRef.current=bulletsRef.current.filter(bullet=>bullet!==b);handleCollision();return;}}bulletsRef.current=bulletsRef.current.filter(b=>b.x>=0&&b.x<=CANVAS_WIDTH&&b.y>=0&&b.y<=CANVAS_HEIGHT);}function draw(){if(!ctx)return;// 배경을 어두운색으로 채우기\nctx.fillStyle=\"#18181b\";ctx.fillRect(0,0,CANVAS_WIDTH,CANVAS_HEIGHT);// 피격 시 붉은색 오버레이\nif(isHitRef.current){ctx.fillStyle=\"rgba(255, 0, 0, 0.5)\";ctx.fillRect(0,0,CANVAS_WIDTH,CANVAS_HEIGHT);}// 플레이어 그리기\nctx.fillStyle=\"#00f\";ctx.fillRect(playerRef.current.x,playerRef.current.y,PLAYER_SIZE,PLAYER_SIZE);// 시간 업데이트\nconst elapsedSec=Math.floor((Date.now()-startTimeRef.current)/1000);setScore(elapsedSec);// 총알 그리기\nctx.fillStyle=\"#f00\";bulletsRef.current.forEach(b=>{ctx.beginPath();ctx.arc(b.x,b.y,BULLET_RADIUS,0,Math.PI*2);ctx.fill();});if(gameOverRef.current){ctx.fillStyle=\"#fff\";ctx.font=\"bold 32px monospace\";ctx.textAlign=\"center\";ctx.fillText(\"GAME OVER\",CANVAS_WIDTH/2,CANVAS_HEIGHT/2);ctx.font=\"16px monospace\";ctx.fillText(\"Press R or ㄱ to Restart\",CANVAS_WIDTH/2,CANVAS_HEIGHT/2+30);ctx.textAlign=\"left\";}}function gameLoop(){update();draw();if(!gameOverRef.current){animationRef.current=requestAnimationFrame(gameLoop);}}// 초기 게임 시작\nresetGame();return()=>{cancelAnimationFrame(animationRef.current);clearInterval(spawnLoopRef.current);clearInterval(difficultyLoopRef.current);window.removeEventListener(\"keydown\",handleKeyDown);window.removeEventListener(\"keyup\",handleKeyUp);};},[setLives,setScore]);return/*#__PURE__*/_jsx(\"canvas\",{ref:canvasRef,width:CANVAS_WIDTH,height:CANVAS_HEIGHT,style:{display:'block',margin:'0 auto',background:'#18181b',border:'2px solid #222',maxWidth:480,height:640}});}","map":{"version":3,"names":["useEffect","useRef","useState","jsx","_jsx","CANVAS_WIDTH","CANVAS_HEIGHT","PLAYER_SPEED","PLAYER_SIZE","BULLET_RADIUS","BULLET_SPEED","INITIAL_SPAWN_INTERVAL","INTERVAL_DECREASE","MIN_SPAWN_INTERVAL","DIFFICULTY_INTERVAL","PLAYER_START_X","PLAYER_START_Y","GameCanvas","_ref","lives","setLives","setSpawnIntervalStatus","setScore","canvasRef","keysRef","ArrowLeft","ArrowRight","ArrowUp","ArrowDown","playerRef","x","y","bulletsRef","startTimeRef","Date","now","gameOverRef","animationRef","undefined","spawnLoopRef","difficultyLoopRef","livesRef","isHitRef","isTopSpawnRef","spawnInterval","setSpawnInterval","spawnSingleBullet","margin","centerX","Math","random","centerY","current","targetAngle","atan2","bullet","angle","speed","push","clearInterval","setInterval","canvas","ctx","getContext","resetGame","prev","max","gameLoop","handleKeyDown","e","includes","key","preventDefault","handleKeyUp","window","addEventListener","checkCollision","px","py","bx","by","br","dx","dy","distance","sqrt","handleCollision","setTimeout","cancelAnimationFrame","update","keys","min","forEach","b","cos","sin","filter","draw","fillStyle","fillRect","elapsedSec","floor","beginPath","arc","PI","fill","font","textAlign","fillText","requestAnimationFrame","removeEventListener","ref","width","height","style","display","background","border","maxWidth"],"sources":["/Users/kbk-admin/one-more-second/src/pages/Game/components/GameCanvas.tsx"],"sourcesContent":["import { useEffect, useRef, useState } from \"react\";\n\nconst CANVAS_WIDTH = 480;\nconst CANVAS_HEIGHT = 640;\nconst PLAYER_SPEED = 4;\nconst PLAYER_SIZE = 20;\nconst BULLET_RADIUS = 4;\nconst BULLET_SPEED = 3;\nconst INITIAL_SPAWN_INTERVAL = 500;\nconst INTERVAL_DECREASE = 50;\nconst MIN_SPAWN_INTERVAL = 100;\nconst DIFFICULTY_INTERVAL = 3000; // 3초\n\n// 플레이어 시작 위치 상수 추가\nconst PLAYER_START_X = CANVAS_WIDTH / 2 - PLAYER_SIZE / 2;\nconst PLAYER_START_Y = CANVAS_HEIGHT / 2 - PLAYER_SIZE / 2;\n\ninterface GameCanvasProps {\n  lives: number;\n  setLives: (lives: number) => void;\n  setSpawnIntervalStatus: (interval: number) => void;\n  setScore: (score: number) => void;\n}\n\nexport default function GameCanvas({ lives, setLives, setSpawnIntervalStatus, setScore }: GameCanvasProps) {\n  const canvasRef = useRef<HTMLCanvasElement | null>(null);\n  const keysRef = useRef({ ArrowLeft: false, ArrowRight: false, ArrowUp: false, ArrowDown: false });\n  const playerRef = useRef({ x: PLAYER_START_X, y: PLAYER_START_Y });\n  const bulletsRef = useRef<any[]>([]);\n  const startTimeRef = useRef(Date.now());\n  const gameOverRef = useRef(false);\n  const animationRef = useRef<number | undefined>(undefined);\n  const spawnLoopRef = useRef<NodeJS.Timeout | undefined>(undefined);\n  const difficultyLoopRef = useRef<NodeJS.Timeout | undefined>(undefined);\n  const livesRef = useRef(lives);\n  const isHitRef = useRef(false);\n  const isTopSpawnRef = useRef(true);\n  const [spawnInterval, setSpawnInterval] = useState(INITIAL_SPAWN_INTERVAL);\n\n  function spawnSingleBullet() {\n    // 화면 상단 또는 하단에서 랜덤한 X 좌표 선택\n    const margin = BULLET_RADIUS * 2;\n    const centerX = Math.random() * (CANVAS_WIDTH - margin * 2) + margin;\n    \n    // 현재 스폰 위치에 따라 Y 좌표와 각도 계산\n    const centerY = isTopSpawnRef.current ? BULLET_RADIUS * 2 : CANVAS_HEIGHT - BULLET_RADIUS * 2;\n    \n    // 플레이어를 향해 발사되도록 각도 계산\n    const targetAngle = Math.atan2(\n      playerRef.current.y + PLAYER_SIZE / 2 - centerY,\n      playerRef.current.x + PLAYER_SIZE / 2 - centerX\n    );\n    \n    const bullet = {\n      x: centerX,\n      y: centerY,\n      angle: targetAngle,\n      speed: BULLET_SPEED\n    };\n    \n    bulletsRef.current.push(bullet);\n    \n    // 다음 발사는 반대쪽에서 하도록 토글\n    isTopSpawnRef.current = !isTopSpawnRef.current;\n  }\n\n  // lives 값이 변경될 때마다 ref 업데이트\n  useEffect(() => {\n    livesRef.current = lives;\n  }, [lives]);\n\n  // spawnInterval이 변경될 때마다 상태 업데이트\n  useEffect(() => {\n    setSpawnIntervalStatus(spawnInterval);\n  }, [spawnInterval, setSpawnIntervalStatus]);\n\n  // spawnInterval이 변경될 때마다 총알 생성 인터벌 재설정\n  useEffect(() => {\n    if (spawnLoopRef.current) {\n      clearInterval(spawnLoopRef.current);\n    }\n    \n    spawnLoopRef.current = setInterval(() => {\n      if (!gameOverRef.current) {\n        spawnSingleBullet();\n      }\n    }, spawnInterval);\n\n    return () => {\n      if (spawnLoopRef.current) {\n        clearInterval(spawnLoopRef.current);\n      }\n    };\n  }, [spawnInterval]);\n\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    const ctx = canvas?.getContext(\"2d\");\n    if (!canvas || !ctx) return;\n\n    function resetGame() {\n      gameOverRef.current = false;\n      playerRef.current = { x: PLAYER_START_X, y: PLAYER_START_Y };\n      bulletsRef.current = [];\n      startTimeRef.current = Date.now();\n      isHitRef.current = false;\n      isTopSpawnRef.current = true;\n      setSpawnInterval(INITIAL_SPAWN_INTERVAL);\n      setLives(3);\n\n      // 기존 인터벌 제거\n      if (difficultyLoopRef.current) clearInterval(difficultyLoopRef.current);\n      \n      // 난이도 증가 인터벌 설정\n      difficultyLoopRef.current = setInterval(() => {\n        if (!gameOverRef.current) {\n          setSpawnInterval(prev => Math.max(MIN_SPAWN_INTERVAL, prev - INTERVAL_DECREASE));\n        }\n      }, DIFFICULTY_INTERVAL);\n\n      gameLoop();\n    }\n\n    function handleKeyDown(e: KeyboardEvent) {\n      if ([\"ArrowLeft\", \"ArrowRight\", \"ArrowUp\", \"ArrowDown\"].includes(e.key)) {\n        e.preventDefault();\n      }\n      keysRef.current[e.key as keyof typeof keysRef.current] = true;\n      if (gameOverRef.current && (e.key === \"r\" || e.key === \"ㄱ\")) {\n        resetGame();\n      }\n    }\n\n    function handleKeyUp(e: KeyboardEvent) {\n      keysRef.current[e.key as keyof typeof keysRef.current] = false;\n    }\n\n    window.addEventListener(\"keydown\", handleKeyDown);\n    window.addEventListener(\"keyup\", handleKeyUp);\n\n    function checkCollision(px: number, py: number, bx: number, by: number, br: number) {\n      const dx = px + PLAYER_SIZE / 2 - bx;\n      const dy = py + PLAYER_SIZE / 2 - by;\n      const distance = Math.sqrt(dx * dx + dy * dy);\n      return distance < br + PLAYER_SIZE / 2;\n    }\n\n    function handleCollision() {\n      isHitRef.current = true;\n      setTimeout(() => {\n        isHitRef.current = false;\n      }, 150);\n      \n      if (livesRef.current > 1) {\n        setLives(livesRef.current - 1);\n      } else {\n        gameOverRef.current = true;\n        setLives(0);\n        cancelAnimationFrame(animationRef.current!);\n        clearInterval(spawnLoopRef.current);\n        clearInterval(difficultyLoopRef.current);\n      }\n    }\n\n    function update() {\n      if (gameOverRef.current) return;\n\n      const keys = keysRef.current;\n      if (keys.ArrowLeft) playerRef.current.x -= PLAYER_SPEED;\n      if (keys.ArrowRight) playerRef.current.x += PLAYER_SPEED;\n      if (keys.ArrowUp) playerRef.current.y -= PLAYER_SPEED;\n      if (keys.ArrowDown) playerRef.current.y += PLAYER_SPEED;\n\n      playerRef.current.x = Math.max(0, Math.min(CANVAS_WIDTH - PLAYER_SIZE, playerRef.current.x));\n      playerRef.current.y = Math.max(0, Math.min(CANVAS_HEIGHT - PLAYER_SIZE, playerRef.current.y));\n\n      bulletsRef.current.forEach((b) => {\n        b.x += Math.cos(b.angle) * b.speed;\n        b.y += Math.sin(b.angle) * b.speed;\n      });\n\n      for (const b of bulletsRef.current) {\n        if (checkCollision(playerRef.current.x, playerRef.current.y, b.x, b.y, BULLET_RADIUS)) {\n          bulletsRef.current = bulletsRef.current.filter((bullet) => bullet !== b);\n          handleCollision();\n          return;\n        }\n      }\n\n      bulletsRef.current = bulletsRef.current.filter((b) => b.x >= 0 && b.x <= CANVAS_WIDTH && b.y >= 0 && b.y <= CANVAS_HEIGHT);\n    }\n\n    function draw() {\n      if (!ctx) return;\n      \n      // 배경을 어두운색으로 채우기\n      ctx.fillStyle = \"#18181b\";\n      ctx.fillRect(0, 0, CANVAS_WIDTH, CANVAS_HEIGHT);\n\n      // 피격 시 붉은색 오버레이\n      if (isHitRef.current) {\n        ctx.fillStyle = \"rgba(255, 0, 0, 0.5)\";\n        ctx.fillRect(0, 0, CANVAS_WIDTH, CANVAS_HEIGHT);\n      }\n\n      // 플레이어 그리기\n      ctx.fillStyle = \"#00f\";\n      ctx.fillRect(playerRef.current.x, playerRef.current.y, PLAYER_SIZE, PLAYER_SIZE);\n\n      // 시간 업데이트\n      const elapsedSec = Math.floor((Date.now() - startTimeRef.current) / 1000);\n      setScore(elapsedSec);\n\n      // 총알 그리기\n      ctx.fillStyle = \"#f00\";\n      bulletsRef.current.forEach((b) => {\n        ctx.beginPath();\n        ctx.arc(b.x, b.y, BULLET_RADIUS, 0, Math.PI * 2);\n        ctx.fill();\n      });\n\n      if (gameOverRef.current) {\n        ctx.fillStyle = \"#fff\";\n        ctx.font = \"bold 32px monospace\";\n        ctx.textAlign = \"center\";\n        ctx.fillText(\"GAME OVER\", CANVAS_WIDTH / 2, CANVAS_HEIGHT / 2);\n        ctx.font = \"16px monospace\";\n        ctx.fillText(\"Press R or ㄱ to Restart\", CANVAS_WIDTH / 2, CANVAS_HEIGHT / 2 + 30);\n        ctx.textAlign = \"left\";\n      }\n    }\n\n    function gameLoop() {\n      update();\n      draw();\n      if (!gameOverRef.current) {\n        animationRef.current = requestAnimationFrame(gameLoop);\n      }\n    }\n\n    // 초기 게임 시작\n    resetGame();\n\n    return () => {\n      cancelAnimationFrame(animationRef.current!);\n      clearInterval(spawnLoopRef.current);\n      clearInterval(difficultyLoopRef.current);\n      window.removeEventListener(\"keydown\", handleKeyDown);\n      window.removeEventListener(\"keyup\", handleKeyUp);\n    };\n  }, [setLives, setScore]);\n\n  return (\n    <canvas\n      ref={canvasRef}\n      width={CANVAS_WIDTH}\n      height={CANVAS_HEIGHT}\n      style={{\n        display: 'block',\n        margin: '0 auto',\n        background: '#18181b',\n        border: '2px solid #222',\n        maxWidth: 480,\n        height: 640\n      }}\n    />\n  );\n}"],"mappings":"AAAA,OAASA,SAAS,CAAEC,MAAM,CAAEC,QAAQ,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAEpD,KAAM,CAAAC,YAAY,CAAG,GAAG,CACxB,KAAM,CAAAC,aAAa,CAAG,GAAG,CACzB,KAAM,CAAAC,YAAY,CAAG,CAAC,CACtB,KAAM,CAAAC,WAAW,CAAG,EAAE,CACtB,KAAM,CAAAC,aAAa,CAAG,CAAC,CACvB,KAAM,CAAAC,YAAY,CAAG,CAAC,CACtB,KAAM,CAAAC,sBAAsB,CAAG,GAAG,CAClC,KAAM,CAAAC,iBAAiB,CAAG,EAAE,CAC5B,KAAM,CAAAC,kBAAkB,CAAG,GAAG,CAC9B,KAAM,CAAAC,mBAAmB,CAAG,IAAI,CAAE;AAElC;AACA,KAAM,CAAAC,cAAc,CAAGV,YAAY,CAAG,CAAC,CAAGG,WAAW,CAAG,CAAC,CACzD,KAAM,CAAAQ,cAAc,CAAGV,aAAa,CAAG,CAAC,CAAGE,WAAW,CAAG,CAAC,CAS1D,cAAe,SAAS,CAAAS,UAAUA,CAAAC,IAAA,CAAyE,IAAxE,CAAEC,KAAK,CAAEC,QAAQ,CAAEC,sBAAsB,CAAEC,QAA0B,CAAC,CAAAJ,IAAA,CACvG,KAAM,CAAAK,SAAS,CAAGtB,MAAM,CAA2B,IAAI,CAAC,CACxD,KAAM,CAAAuB,OAAO,CAAGvB,MAAM,CAAC,CAAEwB,SAAS,CAAE,KAAK,CAAEC,UAAU,CAAE,KAAK,CAAEC,OAAO,CAAE,KAAK,CAAEC,SAAS,CAAE,KAAM,CAAC,CAAC,CACjG,KAAM,CAAAC,SAAS,CAAG5B,MAAM,CAAC,CAAE6B,CAAC,CAAEf,cAAc,CAAEgB,CAAC,CAAEf,cAAe,CAAC,CAAC,CAClE,KAAM,CAAAgB,UAAU,CAAG/B,MAAM,CAAQ,EAAE,CAAC,CACpC,KAAM,CAAAgC,YAAY,CAAGhC,MAAM,CAACiC,IAAI,CAACC,GAAG,CAAC,CAAC,CAAC,CACvC,KAAM,CAAAC,WAAW,CAAGnC,MAAM,CAAC,KAAK,CAAC,CACjC,KAAM,CAAAoC,YAAY,CAAGpC,MAAM,CAAqBqC,SAAS,CAAC,CAC1D,KAAM,CAAAC,YAAY,CAAGtC,MAAM,CAA6BqC,SAAS,CAAC,CAClE,KAAM,CAAAE,iBAAiB,CAAGvC,MAAM,CAA6BqC,SAAS,CAAC,CACvE,KAAM,CAAAG,QAAQ,CAAGxC,MAAM,CAACkB,KAAK,CAAC,CAC9B,KAAM,CAAAuB,QAAQ,CAAGzC,MAAM,CAAC,KAAK,CAAC,CAC9B,KAAM,CAAA0C,aAAa,CAAG1C,MAAM,CAAC,IAAI,CAAC,CAClC,KAAM,CAAC2C,aAAa,CAAEC,gBAAgB,CAAC,CAAG3C,QAAQ,CAACS,sBAAsB,CAAC,CAE1E,QAAS,CAAAmC,iBAAiBA,CAAA,CAAG,CAC3B;AACA,KAAM,CAAAC,MAAM,CAAGtC,aAAa,CAAG,CAAC,CAChC,KAAM,CAAAuC,OAAO,CAAGC,IAAI,CAACC,MAAM,CAAC,CAAC,EAAI7C,YAAY,CAAG0C,MAAM,CAAG,CAAC,CAAC,CAAGA,MAAM,CAEpE;AACA,KAAM,CAAAI,OAAO,CAAGR,aAAa,CAACS,OAAO,CAAG3C,aAAa,CAAG,CAAC,CAAGH,aAAa,CAAGG,aAAa,CAAG,CAAC,CAE7F;AACA,KAAM,CAAA4C,WAAW,CAAGJ,IAAI,CAACK,KAAK,CAC5BzB,SAAS,CAACuB,OAAO,CAACrB,CAAC,CAAGvB,WAAW,CAAG,CAAC,CAAG2C,OAAO,CAC/CtB,SAAS,CAACuB,OAAO,CAACtB,CAAC,CAAGtB,WAAW,CAAG,CAAC,CAAGwC,OAC1C,CAAC,CAED,KAAM,CAAAO,MAAM,CAAG,CACbzB,CAAC,CAAEkB,OAAO,CACVjB,CAAC,CAAEoB,OAAO,CACVK,KAAK,CAAEH,WAAW,CAClBI,KAAK,CAAE/C,YACT,CAAC,CAEDsB,UAAU,CAACoB,OAAO,CAACM,IAAI,CAACH,MAAM,CAAC,CAE/B;AACAZ,aAAa,CAACS,OAAO,CAAG,CAACT,aAAa,CAACS,OAAO,CAChD,CAEA;AACApD,SAAS,CAAC,IAAM,CACdyC,QAAQ,CAACW,OAAO,CAAGjC,KAAK,CAC1B,CAAC,CAAE,CAACA,KAAK,CAAC,CAAC,CAEX;AACAnB,SAAS,CAAC,IAAM,CACdqB,sBAAsB,CAACuB,aAAa,CAAC,CACvC,CAAC,CAAE,CAACA,aAAa,CAAEvB,sBAAsB,CAAC,CAAC,CAE3C;AACArB,SAAS,CAAC,IAAM,CACd,GAAIuC,YAAY,CAACa,OAAO,CAAE,CACxBO,aAAa,CAACpB,YAAY,CAACa,OAAO,CAAC,CACrC,CAEAb,YAAY,CAACa,OAAO,CAAGQ,WAAW,CAAC,IAAM,CACvC,GAAI,CAACxB,WAAW,CAACgB,OAAO,CAAE,CACxBN,iBAAiB,CAAC,CAAC,CACrB,CACF,CAAC,CAAEF,aAAa,CAAC,CAEjB,MAAO,IAAM,CACX,GAAIL,YAAY,CAACa,OAAO,CAAE,CACxBO,aAAa,CAACpB,YAAY,CAACa,OAAO,CAAC,CACrC,CACF,CAAC,CACH,CAAC,CAAE,CAACR,aAAa,CAAC,CAAC,CAEnB5C,SAAS,CAAC,IAAM,CACd,KAAM,CAAA6D,MAAM,CAAGtC,SAAS,CAAC6B,OAAO,CAChC,KAAM,CAAAU,GAAG,CAAGD,MAAM,SAANA,MAAM,iBAANA,MAAM,CAAEE,UAAU,CAAC,IAAI,CAAC,CACpC,GAAI,CAACF,MAAM,EAAI,CAACC,GAAG,CAAE,OAErB,QAAS,CAAAE,SAASA,CAAA,CAAG,CACnB5B,WAAW,CAACgB,OAAO,CAAG,KAAK,CAC3BvB,SAAS,CAACuB,OAAO,CAAG,CAAEtB,CAAC,CAAEf,cAAc,CAAEgB,CAAC,CAAEf,cAAe,CAAC,CAC5DgB,UAAU,CAACoB,OAAO,CAAG,EAAE,CACvBnB,YAAY,CAACmB,OAAO,CAAGlB,IAAI,CAACC,GAAG,CAAC,CAAC,CACjCO,QAAQ,CAACU,OAAO,CAAG,KAAK,CACxBT,aAAa,CAACS,OAAO,CAAG,IAAI,CAC5BP,gBAAgB,CAAClC,sBAAsB,CAAC,CACxCS,QAAQ,CAAC,CAAC,CAAC,CAEX;AACA,GAAIoB,iBAAiB,CAACY,OAAO,CAAEO,aAAa,CAACnB,iBAAiB,CAACY,OAAO,CAAC,CAEvE;AACAZ,iBAAiB,CAACY,OAAO,CAAGQ,WAAW,CAAC,IAAM,CAC5C,GAAI,CAACxB,WAAW,CAACgB,OAAO,CAAE,CACxBP,gBAAgB,CAACoB,IAAI,EAAIhB,IAAI,CAACiB,GAAG,CAACrD,kBAAkB,CAAEoD,IAAI,CAAGrD,iBAAiB,CAAC,CAAC,CAClF,CACF,CAAC,CAAEE,mBAAmB,CAAC,CAEvBqD,QAAQ,CAAC,CAAC,CACZ,CAEA,QAAS,CAAAC,aAAaA,CAACC,CAAgB,CAAE,CACvC,GAAI,CAAC,WAAW,CAAE,YAAY,CAAE,SAAS,CAAE,WAAW,CAAC,CAACC,QAAQ,CAACD,CAAC,CAACE,GAAG,CAAC,CAAE,CACvEF,CAAC,CAACG,cAAc,CAAC,CAAC,CACpB,CACAhD,OAAO,CAAC4B,OAAO,CAACiB,CAAC,CAACE,GAAG,CAAiC,CAAG,IAAI,CAC7D,GAAInC,WAAW,CAACgB,OAAO,GAAKiB,CAAC,CAACE,GAAG,GAAK,GAAG,EAAIF,CAAC,CAACE,GAAG,GAAK,GAAG,CAAC,CAAE,CAC3DP,SAAS,CAAC,CAAC,CACb,CACF,CAEA,QAAS,CAAAS,WAAWA,CAACJ,CAAgB,CAAE,CACrC7C,OAAO,CAAC4B,OAAO,CAACiB,CAAC,CAACE,GAAG,CAAiC,CAAG,KAAK,CAChE,CAEAG,MAAM,CAACC,gBAAgB,CAAC,SAAS,CAAEP,aAAa,CAAC,CACjDM,MAAM,CAACC,gBAAgB,CAAC,OAAO,CAAEF,WAAW,CAAC,CAE7C,QAAS,CAAAG,cAAcA,CAACC,EAAU,CAAEC,EAAU,CAAEC,EAAU,CAAEC,EAAU,CAAEC,EAAU,CAAE,CAClF,KAAM,CAAAC,EAAE,CAAGL,EAAE,CAAGrE,WAAW,CAAG,CAAC,CAAGuE,EAAE,CACpC,KAAM,CAAAI,EAAE,CAAGL,EAAE,CAAGtE,WAAW,CAAG,CAAC,CAAGwE,EAAE,CACpC,KAAM,CAAAI,QAAQ,CAAGnC,IAAI,CAACoC,IAAI,CAACH,EAAE,CAAGA,EAAE,CAAGC,EAAE,CAAGA,EAAE,CAAC,CAC7C,MAAO,CAAAC,QAAQ,CAAGH,EAAE,CAAGzE,WAAW,CAAG,CAAC,CACxC,CAEA,QAAS,CAAA8E,eAAeA,CAAA,CAAG,CACzB5C,QAAQ,CAACU,OAAO,CAAG,IAAI,CACvBmC,UAAU,CAAC,IAAM,CACf7C,QAAQ,CAACU,OAAO,CAAG,KAAK,CAC1B,CAAC,CAAE,GAAG,CAAC,CAEP,GAAIX,QAAQ,CAACW,OAAO,CAAG,CAAC,CAAE,CACxBhC,QAAQ,CAACqB,QAAQ,CAACW,OAAO,CAAG,CAAC,CAAC,CAChC,CAAC,IAAM,CACLhB,WAAW,CAACgB,OAAO,CAAG,IAAI,CAC1BhC,QAAQ,CAAC,CAAC,CAAC,CACXoE,oBAAoB,CAACnD,YAAY,CAACe,OAAQ,CAAC,CAC3CO,aAAa,CAACpB,YAAY,CAACa,OAAO,CAAC,CACnCO,aAAa,CAACnB,iBAAiB,CAACY,OAAO,CAAC,CAC1C,CACF,CAEA,QAAS,CAAAqC,MAAMA,CAAA,CAAG,CAChB,GAAIrD,WAAW,CAACgB,OAAO,CAAE,OAEzB,KAAM,CAAAsC,IAAI,CAAGlE,OAAO,CAAC4B,OAAO,CAC5B,GAAIsC,IAAI,CAACjE,SAAS,CAAEI,SAAS,CAACuB,OAAO,CAACtB,CAAC,EAAIvB,YAAY,CACvD,GAAImF,IAAI,CAAChE,UAAU,CAAEG,SAAS,CAACuB,OAAO,CAACtB,CAAC,EAAIvB,YAAY,CACxD,GAAImF,IAAI,CAAC/D,OAAO,CAAEE,SAAS,CAACuB,OAAO,CAACrB,CAAC,EAAIxB,YAAY,CACrD,GAAImF,IAAI,CAAC9D,SAAS,CAAEC,SAAS,CAACuB,OAAO,CAACrB,CAAC,EAAIxB,YAAY,CAEvDsB,SAAS,CAACuB,OAAO,CAACtB,CAAC,CAAGmB,IAAI,CAACiB,GAAG,CAAC,CAAC,CAAEjB,IAAI,CAAC0C,GAAG,CAACtF,YAAY,CAAGG,WAAW,CAAEqB,SAAS,CAACuB,OAAO,CAACtB,CAAC,CAAC,CAAC,CAC5FD,SAAS,CAACuB,OAAO,CAACrB,CAAC,CAAGkB,IAAI,CAACiB,GAAG,CAAC,CAAC,CAAEjB,IAAI,CAAC0C,GAAG,CAACrF,aAAa,CAAGE,WAAW,CAAEqB,SAAS,CAACuB,OAAO,CAACrB,CAAC,CAAC,CAAC,CAE7FC,UAAU,CAACoB,OAAO,CAACwC,OAAO,CAAEC,CAAC,EAAK,CAChCA,CAAC,CAAC/D,CAAC,EAAImB,IAAI,CAAC6C,GAAG,CAACD,CAAC,CAACrC,KAAK,CAAC,CAAGqC,CAAC,CAACpC,KAAK,CAClCoC,CAAC,CAAC9D,CAAC,EAAIkB,IAAI,CAAC8C,GAAG,CAACF,CAAC,CAACrC,KAAK,CAAC,CAAGqC,CAAC,CAACpC,KAAK,CACpC,CAAC,CAAC,CAEF,IAAK,KAAM,CAAAoC,CAAC,GAAI,CAAA7D,UAAU,CAACoB,OAAO,CAAE,CAClC,GAAIwB,cAAc,CAAC/C,SAAS,CAACuB,OAAO,CAACtB,CAAC,CAAED,SAAS,CAACuB,OAAO,CAACrB,CAAC,CAAE8D,CAAC,CAAC/D,CAAC,CAAE+D,CAAC,CAAC9D,CAAC,CAAEtB,aAAa,CAAC,CAAE,CACrFuB,UAAU,CAACoB,OAAO,CAAGpB,UAAU,CAACoB,OAAO,CAAC4C,MAAM,CAAEzC,MAAM,EAAKA,MAAM,GAAKsC,CAAC,CAAC,CACxEP,eAAe,CAAC,CAAC,CACjB,OACF,CACF,CAEAtD,UAAU,CAACoB,OAAO,CAAGpB,UAAU,CAACoB,OAAO,CAAC4C,MAAM,CAAEH,CAAC,EAAKA,CAAC,CAAC/D,CAAC,EAAI,CAAC,EAAI+D,CAAC,CAAC/D,CAAC,EAAIzB,YAAY,EAAIwF,CAAC,CAAC9D,CAAC,EAAI,CAAC,EAAI8D,CAAC,CAAC9D,CAAC,EAAIzB,aAAa,CAAC,CAC5H,CAEA,QAAS,CAAA2F,IAAIA,CAAA,CAAG,CACd,GAAI,CAACnC,GAAG,CAAE,OAEV;AACAA,GAAG,CAACoC,SAAS,CAAG,SAAS,CACzBpC,GAAG,CAACqC,QAAQ,CAAC,CAAC,CAAE,CAAC,CAAE9F,YAAY,CAAEC,aAAa,CAAC,CAE/C;AACA,GAAIoC,QAAQ,CAACU,OAAO,CAAE,CACpBU,GAAG,CAACoC,SAAS,CAAG,sBAAsB,CACtCpC,GAAG,CAACqC,QAAQ,CAAC,CAAC,CAAE,CAAC,CAAE9F,YAAY,CAAEC,aAAa,CAAC,CACjD,CAEA;AACAwD,GAAG,CAACoC,SAAS,CAAG,MAAM,CACtBpC,GAAG,CAACqC,QAAQ,CAACtE,SAAS,CAACuB,OAAO,CAACtB,CAAC,CAAED,SAAS,CAACuB,OAAO,CAACrB,CAAC,CAAEvB,WAAW,CAAEA,WAAW,CAAC,CAEhF;AACA,KAAM,CAAA4F,UAAU,CAAGnD,IAAI,CAACoD,KAAK,CAAC,CAACnE,IAAI,CAACC,GAAG,CAAC,CAAC,CAAGF,YAAY,CAACmB,OAAO,EAAI,IAAI,CAAC,CACzE9B,QAAQ,CAAC8E,UAAU,CAAC,CAEpB;AACAtC,GAAG,CAACoC,SAAS,CAAG,MAAM,CACtBlE,UAAU,CAACoB,OAAO,CAACwC,OAAO,CAAEC,CAAC,EAAK,CAChC/B,GAAG,CAACwC,SAAS,CAAC,CAAC,CACfxC,GAAG,CAACyC,GAAG,CAACV,CAAC,CAAC/D,CAAC,CAAE+D,CAAC,CAAC9D,CAAC,CAAEtB,aAAa,CAAE,CAAC,CAAEwC,IAAI,CAACuD,EAAE,CAAG,CAAC,CAAC,CAChD1C,GAAG,CAAC2C,IAAI,CAAC,CAAC,CACZ,CAAC,CAAC,CAEF,GAAIrE,WAAW,CAACgB,OAAO,CAAE,CACvBU,GAAG,CAACoC,SAAS,CAAG,MAAM,CACtBpC,GAAG,CAAC4C,IAAI,CAAG,qBAAqB,CAChC5C,GAAG,CAAC6C,SAAS,CAAG,QAAQ,CACxB7C,GAAG,CAAC8C,QAAQ,CAAC,WAAW,CAAEvG,YAAY,CAAG,CAAC,CAAEC,aAAa,CAAG,CAAC,CAAC,CAC9DwD,GAAG,CAAC4C,IAAI,CAAG,gBAAgB,CAC3B5C,GAAG,CAAC8C,QAAQ,CAAC,yBAAyB,CAAEvG,YAAY,CAAG,CAAC,CAAEC,aAAa,CAAG,CAAC,CAAG,EAAE,CAAC,CACjFwD,GAAG,CAAC6C,SAAS,CAAG,MAAM,CACxB,CACF,CAEA,QAAS,CAAAxC,QAAQA,CAAA,CAAG,CAClBsB,MAAM,CAAC,CAAC,CACRQ,IAAI,CAAC,CAAC,CACN,GAAI,CAAC7D,WAAW,CAACgB,OAAO,CAAE,CACxBf,YAAY,CAACe,OAAO,CAAGyD,qBAAqB,CAAC1C,QAAQ,CAAC,CACxD,CACF,CAEA;AACAH,SAAS,CAAC,CAAC,CAEX,MAAO,IAAM,CACXwB,oBAAoB,CAACnD,YAAY,CAACe,OAAQ,CAAC,CAC3CO,aAAa,CAACpB,YAAY,CAACa,OAAO,CAAC,CACnCO,aAAa,CAACnB,iBAAiB,CAACY,OAAO,CAAC,CACxCsB,MAAM,CAACoC,mBAAmB,CAAC,SAAS,CAAE1C,aAAa,CAAC,CACpDM,MAAM,CAACoC,mBAAmB,CAAC,OAAO,CAAErC,WAAW,CAAC,CAClD,CAAC,CACH,CAAC,CAAE,CAACrD,QAAQ,CAAEE,QAAQ,CAAC,CAAC,CAExB,mBACElB,IAAA,WACE2G,GAAG,CAAExF,SAAU,CACfyF,KAAK,CAAE3G,YAAa,CACpB4G,MAAM,CAAE3G,aAAc,CACtB4G,KAAK,CAAE,CACLC,OAAO,CAAE,OAAO,CAChBpE,MAAM,CAAE,QAAQ,CAChBqE,UAAU,CAAE,SAAS,CACrBC,MAAM,CAAE,gBAAgB,CACxBC,QAAQ,CAAE,GAAG,CACbL,MAAM,CAAE,GACV,CAAE,CACH,CAAC,CAEN","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}